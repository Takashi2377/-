import{P as y}from"./PaginationComponent-tFRav8z1.js";import{_ as k,r as p,o as a,c as i,b as t,d as c,w as h,F as _,i as g,e as r,t as d}from"./index-UV12MeIp.js";var $={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yuetin-hexschool",BASE_URL:"/FinalMission-Edtion1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:b,VITE_PATH:w}=$,E={data(){return{products:[],categories:["Blazer","Wild-Conqueror"],pagination:{},currentPage:1}},components:{PaginationComponent:y},watch:{"$route.query":{handler(){this.getData()},deep:!0}},methods:{checkAdmin(){const o=`${b}/api/user/check`;this.$http.post(o).then(()=>{this.getData()}).catch(n=>{alert(n.response.data.message)})},getData(o=1){this.currentPage=o;const{category:n=""}=this.$route.query,u=`${b}/api/${w}/admin/products?category=${n}&page=${o}`;this.$http.get(u).then(s=>{console.log(s.data.products),this.products=s.data.products,this.pagination=s.data.pagination}).catch(s=>{alert(s.response.data.message)})}},mounted(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=o,this.checkAdmin()}},D=t("div",{class:"position-relative d-flex align-items-center justify-content-center",style:{"min-height":"400px"}},[t("div",{class:"position-absolute",style:{top:"0",bottom:"0",left:"0",right:"0","background-image":"url(https://plus.unsplash.com/premium_photo-1661682950521-c84aba0df1f6?q=80&w=2098&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)","background-position":"center center",opacity:"0.1"}}),t("h2",{class:"fw-light fst-italic"}," 時間藝術，機械演繹 ")],-1),P={class:"container mt-md-5 mt-3 mb-7"},T={class:"row"},V={class:"col-md-4"},A={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},B={class:"card border-0"},R=t("div",{class:"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},[t("div",{class:"d-flex justify-content-between align-items-center pe-1"},[t("h4",{class:"mb-0"}," Series "),t("i",{class:"fas fa-chevron-down"})])],-1),C={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},L={class:"card-body py-0"},O={class:"list-unstyled"},H={class:"col-md-8"},M={class:"row"},N={class:"card border-0 mb-4 position-relative position-relative"},S=["src"],j=t("a",{href:"#",class:"text-dark"},[t("i",{class:"far fa-heart position-absolute",style:{right:"16px",top:"16px"}})],-1),q={class:"card-body p-0"},I={class:"mb-0 mt-3"},U={class:"card-text mb-0"},F={class:"text-muted"},z=t("p",{class:"text-muted mt-3"},null,-1),G=t("div",{class:"page"},null,-1);function W(o,n,u,s,l,f){const m=p("router-link"),x=p("RouterLink"),v=p("PaginationComponent");return a(),i(_,null,[D,t("div",P,[t("div",T,[t("div",V,[t("div",A,[t("div",B,[R,t("div",C,[t("div",L,[t("ul",O,[t("li",null,[c(m,{class:"py-2 d-block text-muted",to:"/products"},{default:h(()=>[r("All")]),_:1})]),(a(!0),i(_,null,g(l.categories,e=>(a(),i("li",{key:e},[c(m,{class:"py-2 d-block text-muted",to:`/products?category=${e}`},{default:h(()=>[r(d(e),1)]),_:2},1032,["to"])]))),128))])])])])])]),t("div",H,[t("div",M,[(a(!0),i(_,null,g(l.products,e=>(a(),i("div",{class:"col-md-6",key:e.id},[t("div",N,[t("img",{src:e.imageUrl,class:"card-img-top rounded-0 object-fit-cover",height:"400",alt:"..."},null,8,S),j,t("div",q,[t("h4",I,[c(x,{to:`/product/${e.id}`,class:"text-dark"},{default:h(()=>[r(d(e.title),1)]),_:2},1032,["to"])]),t("p",U,[r("NT$ "+d(e.price)+" ",1),t("span",F,[t("del",null," NT$ "+d(e.origin_price),1)])]),z])])]))),128))]),G,c(v,{pages:l.pagination,onEmitPages:f.getData},null,8,["pages","onEmitPages"])])])])],64)}const K=k(E,[["render",W]]);export{K as default};
