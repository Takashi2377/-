import{_ as T,a as P,r as f,o as E,c as V,b as t,d as c,w as i,t as e,j as q,v as U,k as C,F as R,e as n}from"./index-QsjaM_6j.js";import{c as D}from"./cartStore-cNnb2cq8.js";var L={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yuetin-hexschool",BASE_URL:"/FinalMission-Edtion1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:w,VITE_PATH:k}=L,N={data(){return{product:{},qty:1,products:[]}},watch:{"$route.query":{handler(){this.getProduct(),this.getProducts()},deep:!0}},methods:{getProduct(){const{id:d}=this.$route.params;this.$http.get(`${w}/api/${k}/product/${d}`).then(o=>{console.log(o),this.product=o.data.product})},getProducts(){const d=`${w}/api/${k}/products/all`;this.$http.get(d).then(o=>{this.products=o.data.products.filter(a=>a.id!==this.product.id),console.log(this.products)}).catch(o=>{alert(o.response.data.message)})},...P(D,["addToCart"])},mounted(){this.getProduct(),this.getProducts()}},S={class:"container"},A={class:"row align-items-center"},B={class:"col-md-7 pt-3"},I=["src"],M={class:"col-md-5"},F={"aria-label":"breadcrumb"},H={class:"breadcrumb bg-white px-0 mb-0 py-3"},O={class:"breadcrumb-item"},$={class:"breadcrumb-item"},j=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Detail",-1),z={class:"fw-bold h1 mb-1"},G={class:"mb-0 text-muted text-end"},J={class:"h4 fw-bold text-end"},K={class:"row align-items-center"},Q={class:"col-6"},W={class:"input-group my-3 bg-light rounded"},X={class:"input-group-prepend"},Y=["disabled"],Z=t("i",{class:"bi bi-dash-lg"},null,-1),tt=[Z],st={class:"input-group-append"},ot=t("i",{class:"bi bi-plus-lg"},null,-1),et=[ot],dt={class:"col-6"},ct={class:"row my-5"},it={class:"col-md-4 offset-md-1"},nt={class:"text-muted text-start lh-lg",style:{"text-indent":"2rem"}},rt={class:"container"},lt=t("hr",null,null,-1),at={class:"row mt-5"},ut=t("h2",{class:"text-center py-2"},"其他商品",-1),_t={class:"col-md-4 mt-md-4"},pt={class:"card border-0 mb-4"},ht=["src"],mt={class:"card-body text-center"},bt={class:"col-md-4 mt-md-4"},gt={class:"card border-0 mb-4"},vt=["src"],yt={class:"card-body text-center"},xt={class:"col-md-4 mt-md-4"},ft={class:"card border-0 mb-4"},wt=["src"],kt={class:"card-body text-center"};function Tt(d,o,a,Pt,s,Et){var _,p,h,m,b,g,v,y,x;const u=f("router-link"),l=f("RouterLink");return E(),V(R,null,[t("div",S,[t("div",A,[t("div",B,[t("img",{src:s.product.imageUrl,class:"d-block w-100 rounded-1",alt:"..."},null,8,I)]),t("div",M,[t("nav",F,[t("ol",H,[t("li",O,[c(u,{class:"text-muted",to:"/"},{default:i(()=>[n("Home")]),_:1})]),t("li",$,[c(u,{class:"text-muted",to:"/products"},{default:i(()=>[n("Products")]),_:1})]),j])]),t("h2",z,e(s.product.title),1),t("p",G,[t("del",null,"NT$ "+e(s.product.origin_price),1)]),t("p",J,"NT$ "+e(s.product.price),1),t("div",K,[t("div",Q,[t("div",W,[t("div",X,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon1",disabled:s.qty===1,onClick:o[0]||(o[0]=r=>s.qty--)},tt,8,Y)]),q(t("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none bg-light",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":o[1]||(o[1]=r=>s.qty=r),disabled:""},null,512),[[U,s.qty]]),t("div",st,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon2",onClick:o[2]||(o[2]=r=>s.qty++)},et)])])]),t("div",dt,[t("a",{class:"text-nowrap btn btn-dark w-100 py-2",onClick:o[3]||(o[3]=C(r=>(d.addToCart(s.product.id,s.qty),s.qty=1),["prevent"]))},"加入購物車")])])])]),t("div",ct,[t("div",it,[t("p",nt,e(s.product.description),1)])])]),t("div",rt,[lt,t("div",at,[ut,t("div",_t,[t("div",pt,[t("img",{src:(_=s.products[0])==null?void 0:_.imageUrl,class:"card-img-top rounded-0",alt:"...",height:"258"},null,8,ht),t("div",mt,[t("h4",null,e((p=this.products[0])==null?void 0:p.title),1),c(l,{type:"button",class:"btn btn-outline-dark rounded-2 mt-3",to:`/product/${(h=s.products[0])==null?void 0:h.id}`},{default:i(()=>[n("立即選購")]),_:1},8,["to"])])])]),t("div",bt,[t("div",gt,[t("img",{src:(m=s.products[1])==null?void 0:m.imageUrl,class:"card-img-top rounded-0",alt:"...",height:"258"},null,8,vt),t("div",yt,[t("h4",null,e((b=this.products[1])==null?void 0:b.title),1),c(l,{type:"button",class:"btn btn-outline-dark rounded-2 mt-3",to:`/product/${(g=s.products[1])==null?void 0:g.id}`},{default:i(()=>[n("立即選購")]),_:1},8,["to"])])])]),t("div",xt,[t("div",ft,[t("img",{src:(v=s.products[2])==null?void 0:v.imageUrl,class:"card-img-top rounded-0",alt:"...",height:"258"},null,8,wt),t("div",kt,[t("h4",null,e((y=this.products[2])==null?void 0:y.title),1),c(l,{type:"button",class:"btn btn-outline-dark rounded-2 mt-3",to:`/product/${(x=s.products[2])==null?void 0:x.id}`},{default:i(()=>[n("立即選購")]),_:1},8,["to"])])])])])])],64)}const Ut=T(N,[["render",Tt]]);export{Ut as default};
