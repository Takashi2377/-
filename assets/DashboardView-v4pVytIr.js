import{m as T,a as v,_ as m,o as n,c,F as k,i as y,s as f,b as s,t as b,l as M,r as d,d as i,w as _,e as h,k as E,u as V}from"./index-dPWsS6TK.js";import{u}from"./toastMessage-yCsqaWFz.js";const R={computed:{...T(u,["messages"])},methods:{...v(u,["clearToast"])}},x={class:"toast-container position-fixed pe-3 top-0 end-0",style:{"z-index":"1500"}},L={class:"toast-header"},D={class:"me-auto"},B=["onClick"],N={key:0,class:"toast-body"};function A(a,t,r,g,p,l){return n(),c("div",x,[(n(!0),c(k,null,y(a.messages,(e,o)=>(n(),c("div",{key:`toast${o}`,class:f(["toast show",`toast${o}`]),role:"alert"},[s("div",L,[s("span",{class:f([`bg-${e.style}`,"p-2 rounded me-2 d-inline-block"])},null,2),s("strong",D,b(e.title),1),s("button",{type:"button",class:"btn-close",onClick:$=>a.clearToast(o),"aria-label":"Close"},null,8,B)]),e.content?(n(),c("div",N,b(e.content),1)):M("",!0)],2))),128))])}const S=m(R,[["render",A]]);var C={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yuetin-hexschool",BASE_URL:"/FinalMission-Edtion1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:w}=C,I={methods:{...v(u,["pushMessage"]),logout(){const a=`${w}/logout`;this.$http.post(a).then(t=>{this.pushMessage({style:"success",title:"登出狀態",content:t.data.message}),this.$router.push("/login")}).catch(t=>{this.pushMessage({style:"danger",title:"登出狀態",content:t.response.data.message})})}}},U={class:"navbar navbar-expand-lg navbar-dark bg-dark"},F={class:"container-fluid"},O=s("a",{class:"navbar-brand",href:"#"},"BeyeFendi",-1),P=s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1),z={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},H={class:"navbar-nav"};function j(a,t,r,g,p,l){const e=d("RouterLink");return n(),c("nav",U,[s("div",F,[O,P,s("div",z,[s("div",H,[i(e,{to:"/admin/products",class:"nav-link"},{default:_(()=>[h("產品")]),_:1}),i(e,{to:"/admin/orders",class:"nav-link"},{default:_(()=>[h("訂單")]),_:1}),i(e,{to:"/admin/coupons",class:"nav-link"},{default:_(()=>[h("優惠券")]),_:1}),s("a",{href:"#",onClick:t[0]||(t[0]=E((...o)=>l.logout&&l.logout(...o),["prevent"])),class:"nav-link"},"登出")])])])])}const q=m(I,[["render",j]]);var G={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yuetin-hexschool",BASE_URL:"/FinalMission-Edtion1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:J}=G,K={components:{DashBoardNavbarLayout:q,ToastMessages:S},data(){return{status:!1}},methods:{...v(u,["pushMessage"])},created(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${a}`;const t=`${J}/api/user/check`;this.$http.post(t).then(r=>{this.pushMessage({style:"success",title:"成功登入",content:r.data.message}),this.status=!0}).catch(r=>{this.pushMessage({style:"danger",title:"錯誤訊息",content:r.response.data.message}),this.$router.push("/")})}},Q={class:"container-fluid mt-3 position-relative"};function W(a,t,r,g,p,l){const e=d("DashBoardNavbarLayout"),o=d("ToastMessages"),$=d("RouterView");return n(),c(k,null,[i(e),s("div",Q,[i(o),p.status?(n(),V($,{key:0})):M("",!0)])],64)}const Z=m(K,[["render",W]]);export{Z as default};
