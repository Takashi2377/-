import{_ as v,a as y,r as p,o as n,c as r,b as t,d as i,w as l,t as c,j as x,v as f,k as w,F as h,i as k,l as P,e as a}from"./index-dPWsS6TK.js";import{c as T}from"./cartStore-0HK6h8X8.js";var V={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yuetin-hexschool",BASE_URL:"/FinalMission-Edtion1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:m,VITE_PATH:b}=V,E={data(){return{product:{},qty:1,products:[]}},watch:{"$route.query":{async handler(){this.getProduct()},deep:!0}},computed:{recommendProducts(){return console.log("iam here"),this.products.filter(d=>{var s;return d.id!==((s=this.product)==null?void 0:s.id)}).sort(()=>Math.random()-.5).slice(0,3)}},methods:{async getProduct(){const{id:d}=this.$route.params;this.$http.get(`${m}/api/${b}/product/${d}`).then(s=>{console.log(s),this.product=s.data.product})},async getProducts(){const d=`${m}/api/${b}/products/all`;this.$http.get(d).then(s=>{this.products=s.data.products,console.log("!!!!!!!!!!!",this.products)}).catch(s=>{alert(s.response.data.message)})},...y(T,["addToCart"])},mounted(){this.getProduct(),this.getProducts()}},q={class:"container"},C={class:"row align-items-center"},R={class:"col-md-7 pt-3"},D=["src"],L={class:"col-md-5"},N={"aria-label":"breadcrumb"},U={class:"breadcrumb bg-white px-0 mb-0 py-3"},M={class:"breadcrumb-item"},S={class:"breadcrumb-item"},A=t("li",{class:"breadcrumb-item active","aria-current":"page"},"Detail",-1),B={class:"fw-bold h1 mb-1"},I={class:"mb-0 text-muted text-end"},$={class:"h4 fw-bold text-end"},F={class:"row align-items-center"},H={class:"col-6"},O={class:"input-group my-3 bg-light rounded"},j={class:"input-group-prepend"},z=["disabled"],G=t("i",{class:"bi bi-dash-lg"},null,-1),J=[G],K={class:"input-group-append"},Q=t("i",{class:"bi bi-plus-lg"},null,-1),W=[Q],X={class:"col-6"},Y={class:"row my-5"},Z={class:"col-md-4 offset-md-1"},tt={class:"text-muted text-start lh-lg",style:{"text-indent":"2rem"}},st={class:"container"},et=t("hr",null,null,-1),ot={key:0,class:"row mt-5"},dt=t("h2",{class:"text-center py-2"},"其他商品",-1),ct={class:"card border-0 mb-4"},nt=["src"],rt={class:"card-body text-center"};function it(d,s,lt,at,e,u){const _=p("router-link"),g=p("RouterLink");return n(),r(h,null,[t("div",q,[t("div",C,[t("div",R,[t("img",{src:e.product.imageUrl,class:"d-block w-100 rounded-1",alt:"..."},null,8,D)]),t("div",L,[t("nav",N,[t("ol",U,[t("li",M,[i(_,{class:"text-muted",to:"/"},{default:l(()=>[a("Home")]),_:1})]),t("li",S,[i(_,{class:"text-muted",to:"/products"},{default:l(()=>[a("Products")]),_:1})]),A])]),t("h2",B,c(e.product.title),1),t("p",I,[t("del",null,"NT$ "+c(e.product.origin_price),1)]),t("p",$,"NT$ "+c(e.product.price),1),t("div",F,[t("div",H,[t("div",O,[t("div",j,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon1",disabled:e.qty===1,onClick:s[0]||(s[0]=o=>e.qty--)},J,8,z)]),x(t("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none bg-light",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1","onUpdate:modelValue":s[1]||(s[1]=o=>e.qty=o),disabled:""},null,512),[[f,e.qty]]),t("div",K,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon2",onClick:s[2]||(s[2]=o=>e.qty++)},W)])])]),t("div",X,[t("a",{class:"text-nowrap btn btn-dark w-100 py-2",onClick:s[3]||(s[3]=w(o=>(d.addToCart(e.product.id,e.qty),e.qty=1),["prevent"]))},"加入購物車")])])])]),t("div",Y,[t("div",Z,[t("p",tt,c(e.product.description),1)])])]),t("div",st,[et,u.recommendProducts.length>0?(n(),r("div",ot,[dt,(n(!0),r(h,null,k(u.recommendProducts,o=>(n(),r("div",{class:"col-md-4 mt-md-4",key:o.id},[t("div",ct,[t("img",{src:o.imageUrl,class:"card-img-top rounded-0",alt:"...",height:"258"},null,8,nt),t("div",rt,[t("h4",null,c(o.title),1),i(g,{type:"button",class:"btn btn-outline-dark rounded-2 mt-3",to:`/product/${o.id}`},{default:l(()=>[a("立即選購")]),_:2},1032,["to"])])])]))),128))])):P("",!0)])],64)}const pt=v(E,[["render",it]]);export{pt as default};
